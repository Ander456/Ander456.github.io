<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png?v=5.1.4">


  <link rel="mask-icon" href="/images/favicon.png?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="keywords" content="develop">
<meta property="og:type" content="website">
<meta property="og:title" content="Alex&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Alex&#39;s Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Alex&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/">





  <title>Alex's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Alex's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/25/Opengl-光照-基本光照-光照贴图/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alex">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alex's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/25/Opengl-光照-基本光照-光照贴图/" itemprop="url">Opengl-光照-基本光照-光照贴图(现在告别单调的方块弄个箱子)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-25T00:00:00+08:00">
                2018-08-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/opengl/" itemprop="url" rel="index">
                    <span itemprop="name">opengl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>##前言</p>
</blockquote>
<p>  前面我们跟着LearnOpengl学习的都是通过怎么定义一些顶点数据弄出一个立方体在三维世界里模拟光照模拟光源。看着是有点真实的样子了。。可是你见过哪个真实世界里都是这些个立方体的，肯定都是真切的物体啊，什么房子，树，石头，木头等等。要怎么模拟这些呢？怎么把这些放进去呢？很简单啊。基本章节就学习了纹理坐标，我们就已经给立方体贴上了纹理让它成为了一个箱子-结果可以去看我第一章最后的成果图。<br>  然后，我们还缺什么呢？就是把箱子上照上光，我们都说了第一节学习东西没有生气的原因就是死板不真实就是因为没有光，现在加上光不就是真实世界的东西了么？</p>
<blockquote>
<p>现实世界中的物体通常并不只包含有一种材质，而是由多种材质所组成。想想一辆汽车：它的外壳非常有光泽，车窗会部分反射周围的环境，轮胎不会那么有光泽，所以它没有镜面高光，轮毂非常闪亮（如果你洗车了的话）。汽车同样会有漫反射和环境光颜色，它们在整个物体上也不会是一样的，汽车有着许多种不同的环境光/漫反射颜色。总之，这样的物体在不同的部件上都有不同的材质属性。</p>
</blockquote>
<hr>
<p>###漫反射贴图<br>我们希望通过某种方式对物体的每个片段单独设置漫反射颜色。有能够让我们根据片段在物体上的位置来获取颜色值得系统吗？<br>说到这句话，有没有点点熟悉的感觉？我们希望通过<strong>物体上的位置找到物体的颜色</strong>。这不就是纹理么？我们纹理学的就是这么个道理啊，把纹理想象成一张地图，然后根据位置可以找到纹理上的每一个像素，这就是颜色啊。所以其实漫反射贴图没啥新东西，就是纹理的那个原理。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">struct Material &#123;</span><br><span class="line">    sampler2D diffuse;</span><br><span class="line">    vec3      specular;</span><br><span class="line">    float     shininess;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Material的diffuse 变成了sampler2D 是因为纹理采样，这个不用多说吧。前面纹理的时候介绍过了。</p>
<p>shader中的核心代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vec3 diffuse = light.diffuse * diff * vec3(texture(material.diffuse, TexCoords));</span><br></pre></td></tr></table></figure>

<p><img src="/images/opengl/light_uv1.png" alt="这里写图片描述"></p>
<p>有了漫反射贴图，会不会想，有咩有镜面光贴图？是的，兄弟没想错，就是这样子的，有有有。我们可以看的出来漫反射贴图使用了之后，整个箱子都会在光源的照射下一大部分有高亮，不论是木头材质还是铁材质，而真正能晃眼的其实应该是铁，木头不应该。怎么做呢？简单的想我们可以将物体的镜面光材质设置为vec3(0.0)来解决这个问题，可是。。。这样都不反光了啊。怎么做。。肯定就是要用到镜面光贴图了</p>
<p>###镜面光贴图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">struct Material &#123;</span><br><span class="line">    sampler2D diffuse;</span><br><span class="line">    sampler2D specular;</span><br><span class="line">    float     shininess;</span><br><span class="line">&#125;;</span><br><span class="line">[...]</span><br><span class="line">vec3 ambient  = light.ambient  * vec3(texture(material.diffuse, TexCoords));</span><br><span class="line">vec3 diffuse  = light.diffuse  * diff * vec3(texture(material.diffuse, TexCoords));  </span><br><span class="line">vec3 specular = light.specular * spec * vec3(texture(material.specular, TexCoords));</span><br><span class="line">FragColor = vec4(ambient + diffuse + specular, 1.0);</span><br></pre></td></tr></table></figure>

<p><img src="/images/opengl/light_uv2.png" alt="这里写图片描述"><br><img src="/images/opengl/light_uv3.png" alt="这里写图片描述"></p>
<hr>
<p><strong>看出来了么？其实核心思想就是，漫反射贴图结合光照颜色就是为了体现物体本身在光照下反射的大概颜色的。然后镜面光贴图的目的就是为了让不同的才体现出不同的反光程度。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/23/Opengl-光照-基本光照-材质/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alex">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alex's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/23/Opengl-光照-基本光照-材质/" itemprop="url">Opengl-光照-基本光照-材质(有了材质一个物体才算是完整了)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-23T00:00:00+08:00">
                2018-08-23
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/opengl/" itemprop="url" rel="index">
                    <span itemprop="name">opengl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>在现实世界里，每个物体会对光产生不同的反应。比如说，钢看起来通常会比陶瓷花瓶更闪闪发光，木头箱子也不会像钢制箱子那样对光产生很强的反射。每个物体对镜面高光也有不同的反应。有些物体反射光的时候不会有太多的散射(Scatter)，因而产生一个较小的高光点，而有些物体则会散射很多，产生一个有着更大半径的高光点。如果我们想要在OpenGL中模拟多种类型的物体，我们必须为每个物体分别定义一个材质(Material)属性。</p>
</blockquote>
<p>材质是什么呢？其实就是真真切切的物体本身，因为材质物体才会形形色色各式各样，有玉，有铁，有木，等等。我们掌握了材质也就能模拟各种各样的物体，而不局限于单一的color</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">struct Material &#123;</span><br><span class="line">    vec3 ambient;</span><br><span class="line">    vec3 diffuse;</span><br><span class="line">    vec3 specular;</span><br><span class="line">    float shininess;</span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line">uniform Material material;</span><br></pre></td></tr></table></figure>

<p>前面说的  <strong>环境光 + 漫反射光 + 镜面光 + 散射因子（来表现这个东西到底是什么反光的强度铁就比木头强</strong>） 就构成了我们所谓的材质-Material。看到了吧？和我们刚才讲到基本冯氏光照 只差了一个变量，就是用来控制对光的敏感程度额shiness。</p>
<blockquote>
<p>你可以看到，我们为每个冯氏光照模型的分量都定义一个颜色向量。ambient材质向量定义了在环境光照下这个物体反射得是什么颜色，通常这是和物体颜色相同的颜色。diffuse材质向量定义了在漫反射光照下物体的颜色。（和环境光照一样）漫反射颜色也要设置为我们需要的物体颜色。specular材质向量设置的是镜面光照对物体的颜色影响（或者甚至可能反射一个物体特定的镜面高光颜色）。最后，shininess影响镜面高光的散射/半径。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">void main()</span><br><span class="line">&#123;    </span><br><span class="line">    // 环境光</span><br><span class="line">    vec3 ambient = lightColor * material.ambient;</span><br><span class="line"></span><br><span class="line">    // 漫反射 </span><br><span class="line">    vec3 norm = normalize(Normal);</span><br><span class="line">    vec3 lightDir = normalize(lightPos - FragPos);</span><br><span class="line">    float diff = max(dot(norm, lightDir), 0.0);</span><br><span class="line">    vec3 diffuse = lightColor * (diff * material.diffuse);</span><br><span class="line"></span><br><span class="line">    // 镜面光</span><br><span class="line">    vec3 viewDir = normalize(viewPos - FragPos);</span><br><span class="line">    vec3 reflectDir = reflect(-lightDir, norm);  </span><br><span class="line">    float spec = pow(max(dot(viewDir, reflectDir), 0.0), material.shininess);</span><br><span class="line">    vec3 specular = lightColor * (spec * material.specular);  </span><br><span class="line"></span><br><span class="line">    vec3 result = ambient + diffuse + specular;</span><br><span class="line">    FragColor = vec4(result, 1.0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>简单明了，冯氏光照+材质 最后反应出了真是的效果。<br><img src="/images/opengl/light_material.png" alt="这里写图片描述"><br>我们可以根据不同的shines来体现不同程度的高光，然后通过设置材质的向量属性我们可以把物体变成各种各样的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lightingShader.setVec3(&quot;material.ambient&quot;,  1.0f, 0.5f, 0.31f);</span><br><span class="line">lightingShader.setVec3(&quot;material.diffuse&quot;,  1.0f, 0.5f, 0.31f);</span><br><span class="line">lightingShader.setVec3(&quot;material.specular&quot;, 0.5f, 0.5f, 0.5f);</span><br><span class="line">lightingShader.setFloat(&quot;material.shininess&quot;, 32.0f);</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/22/Opengl-光照-基本光照-冯氏/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alex">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alex's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/22/Opengl-光照-基本光照-冯氏/" itemprop="url">Opengl-光照-基本光照-冯氏(千万好好理解后面所有的延伸基本都是基于这个的)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-22T00:00:00+08:00">
                2018-08-22
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/opengl/" itemprop="url" rel="index">
                    <span itemprop="name">opengl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>##前言</p>
</blockquote>
<p>  前面我们基本理解了怎么模拟光，怎么设置光的颜色以及物体的颜色来非常不生动形象的模拟光在计算机中。肯定在想，怎么能真的像生活中那样物体可以反光，然后有凉的地方也有不凉的地方，光也有强弱这种？其实前辈们已经给了一套很好的经验体系–<strong>冯氏光照模型</strong></p>
<blockquote>
<p>冯氏光照</p>
</blockquote>
<p><img src="/images/opengl/light_feng.png" alt="这里写图片描述"></p>
<p>这图是我从LearnOpengl那里拿的，为什么用这张图解释呢？就是因为找了很多都感觉这张图真的很贴切。<br>从左到右依次是：环境光-&gt;漫反射光-&gt;镜面光-&gt;混合后的冯氏光照。是不是已经看到了？是不是最后的结合已经有了很逼真的感觉？</p>
<ul>
<li>环境光照(Ambient Lighting)：即使在黑暗的情况下，世界上通常也仍然有一些光亮（月亮、远处的光），所以物体几乎永远不会是完全黑暗的。为了模拟这个，我们会使用一个环境光照常量，它永远会给物体一些颜色。</li>
<li>漫反射光照(Diffuse Lighting)：模拟光源对物体的方向性影响(Directional Impact)。它是冯氏光照模型中视觉上最显著的分量。物体的某一部分越是正对着光源，它就会越亮。</li>
<li>镜面光照(Specular Lighting)：模拟有光泽物体上面出现的亮点。镜面光照的颜色相比于物体的颜色会更倾向于光的颜色。</li>
</ul>
<p>环境光非常好理解，就是给了一个基本颜色不至于让物体完全黑导致的失真</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    float ambientStrength = 0.1;</span><br><span class="line">    vec3 ambient = ambientStrength * lightColor;</span><br><span class="line"></span><br><span class="line">    vec3 result = ambient * objectColor;</span><br><span class="line">    FragColor = vec4(result, 1.0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>看代码，我们只需要乘以环境光影子就可以让物体具有一定基本颜色不至于很黑也不会很亮</p>
<p><strong>至于漫反射概念如图</strong><br><img src="/images/opengl/light_feng2.png" alt="这里写图片描述"><br>你可以看到，光照射到物体表面然后因为物体表面不平导致光散射向四面八方。<br>我们这里解释下冯氏光照的漫反射从一个点出发看<br><img src="/images/opengl/light_feng3.png" alt="这里写图片描述"><br>想象一下橙色的这个平台上的一点，我们从一个点出发来看漫反射，然后这里引入一个概念-<strong>发现向量</strong>其实就是垂直于一面点的一个向量。引用一句话就是：<strong>漫反射光照使物体上与光线方向越接近的片段能从光源处获得更多的亮度</strong><br>  为什么这么说呢？你像一下，θ角度越小，光源也就越正方向照这个平台，这个时候平台反射的也就越多你能感受到看到的光也就越强。如果光线垂直于物体表面，这束光对物体的影响会最大化，也就是最亮了，如果想象不出来，你可以打开手机的手电筒，照一个东西，感受一下，是直照亮还是偏着亮？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">out vec3 FragPos;  </span><br><span class="line">out vec3 Normal;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    gl_Position = projection * view * model * vec4(aPos, 1.0);</span><br><span class="line">    FragPos = vec3(model * vec4(aPos, 1.0));</span><br><span class="line">    Normal = aNormal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>片段着色器的主要代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vec3 norm = normalize(Normal);</span><br><span class="line">vec3 lightDir = normalize(lightPos - FragPos);</span><br><span class="line">float diff = max(dot(norm, lightDir), 0.0);</span><br><span class="line">vec3 diffuse = diff * lightColor;</span><br><span class="line">vec3 result = (ambient + diffuse) * objectColor;</span><br><span class="line">FragColor = vec4(result, 1.0);</span><br></pre></td></tr></table></figure>

<p>可以看出来，我们把漫反射因子+环境光因子 然后* 物体颜色就得出了有漫反射的情况下物体的样子<br><img src="/images/opengl/light_feng4.png" alt="这里写图片描述"><br>可以看到有亮有暗，以为反射的原因我们通过移动摄像机能看出来不同地方的亮度</p>
<p><strong>镜面光照</strong><br><img src="/images/opengl/light_feng5.png" alt="这里写图片描述"><br>其实上面的结果稍微少了那么点味道，为什么，因为少了那种很闪眼的感觉，生活中你盯着一个亮的物体看，就能看出来有时候会很亮。这个是怎么做到的呢？就是镜面光照</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vec3 viewDir = normalize(viewPos - FragPos);</span><br><span class="line">vec3 reflectDir = reflect(-lightDir, norm);</span><br><span class="line">float spec = pow(max(dot(viewDir, reflectDir), 0.0), 32);</span><br><span class="line">vec3 specular = specularStrength * spec * lightColor;</span><br></pre></td></tr></table></figure>

<p>  <img src="/images/opengl/light_feng6.png" alt="这里写图片描述"><br>这次晃动你的摄像机是不是能看到高亮的白色光了？</p>
<hr>
<p>总结下：我们想真正的模拟现实世界的光照不是知道颜色影响就够了，错综复杂的世界基本不可能完全模拟，前人提供了一套经验模型冯氏光照。通过几方面，<strong>环境影响+反射影响+高光效果 来提供一种简单的模拟</strong>，然而这已经非常不错了。让人不自禁沉迷于光的世界。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/21/Opengl-光照-颜色/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alex">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alex's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/21/Opengl-光照-颜色/" itemprop="url">Opengl-光照-颜色(其实要想做出好看的东西这章最重要了)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-21T00:00:00+08:00">
                2018-08-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/opengl/" itemprop="url" rel="index">
                    <span itemprop="name">opengl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>##前言</p>
</blockquote>
<p>  前面的基础章节说了下Opengl入门的一些基础知识，通过这些基础知识你可以制作Camera或者让物体移动啊又或者放一张图片上去当做纹理贴图丰富物体的显示<br>  但是其实不论怎么折腾你会发现略微呆板，没有鲜活的感觉。为什么呢？就是因为我们其实想让显示的东西像真实世界一样，然而却忽略了世界上最重要的东西-光！是的没有错，生活中你睁开眼闭上眼都可以感受到光的存在，看到任何东西都会因为光的原因有所感触，反观我们做出来的不论是箱子也好还是带着贴图的箱子又或者渲染的箱子，如果我们想让它更逼真，我们就要有光（佛说要有光放在这？）</p>
<hr>
<p>相应的同第一章一样我所写的还尽量会是一些思想以及总结，可以说是我个人的回顾，又或者说是帮助理解不了一些概念的同学尽量理解明白一些东西。同理肯定是结合我最推荐的文章 <a href="https://learnopengl-cn.github.io/02%20Lighting/01%20Colors/" target="_blank" rel="noopener">LearnOpengl</a>这个教程去学习，如果理解不了结合我的文章，应该可以让你明白卡在哪里，或者说哪里是难点，以及如何理解如何更好的想象。</p>
<hr>
<blockquote>
<p>##颜色</p>
</blockquote>
<p>  现在来想一件事，其实计算机里或者说虚拟世界里并没有光，那肯定要问了，没有光怎么办？那不是完了？但是非常聪明的前人或者说艺术家们通过在计算机中模拟光来实现我们在真实世界见到的光。有一句话我非常想说：<strong>Opengl其实就是在模拟真实世界到虚拟世界中的一个办法集合。图形学也是在做这件事</strong><br>  现在回忆一下，至今为止我们看到的屏幕，我们玩的游戏。展现出的图像图片颜色，或者说一些3A大作里面靓丽的世界，都是我们通过模拟光照来让你的眼镜感受到了鲜活的感觉.那么我们如何模拟光照的呢？其实就是通过颜色。有一句话大家一定要好好理解下：<strong>我们在现实生活中看到某一物体的颜色并不是这个物体真正拥有的颜色，而是它所反射的(Reflected)颜色。换句话说，那些不能被物体所吸收(Absorb)的颜色（被拒绝的颜色）就是我们能够感知到的物体的颜色。</strong></p>
<p>举个列子，我们是如何在计算机中模拟光照和现实颜色的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">glm::vec3 lightColor(1.0f, 1.0f, 1.0f);</span><br><span class="line">glm::vec3 toyColor(1.0f, 0.5f, 0.31f);</span><br><span class="line">glm::vec3 result = lightColor * toyColor; // = (1.0f, 0.5f, 0.31f);</span><br></pre></td></tr></table></figure>

<p>可以看到我们定义了光颜色(1,1,1)也就是一个白光[1最大，拉满了]，然后玩具颜色(1,0.5,0.31)要想知道最终结果就是相乘就好了没有什么特别的。为什么？反射学定律啊，就是这样啊。。别钻牛角尖老哥。就像颜色为啥可以这么表示你不是也不知道么？不是理解的很好么。</p>
<hr>
<p>  举个列子：你看到的树叶是绿色的，那么是因为这个树叶反射了绿色的颜色到你的眼睛里。<br>  从这个例子我们可以了解到，其实我们模拟光，并不需要多么复杂的操作，按照反射或者折射的现象，我们只需要给物体定义一个颜色，然后通过着色器比如顶点啊像素啊处理好显示到屏幕上，这个时候绿色的物体就会被我们看到，那我们也就感觉到这个物体是绿色的了。</p>
<hr>
<p>虽然说了尽量不写代码，只讲思想，但是感觉稍微贴点代码可能理解的会更清楚。</p>
<p><strong>顶点着色器</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">layout (location = 0) in vec3 aPos;</span><br><span class="line"></span><br><span class="line">uniform mat4 model;</span><br><span class="line">uniform mat4 view;</span><br><span class="line">uniform mat4 projection;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    gl_Position = projection * view * model * vec4(aPos, 1.0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>片段着色器</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">out vec4 FragColor;</span><br><span class="line"></span><br><span class="line">uniform vec3 objectColor;</span><br><span class="line">uniform vec3 lightColor;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    FragColor = vec4(lightColor * objectColor, 1.0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>相信这两个着色器大家都比较熟悉，前面基础章节也都解释过这些着色器了基本都是固定的格式，这里的变化只不过多了uniform 关于uniform的使用前面都介绍过了这里不多赘述。<br>可以看到我们通过外部传入两个变量一个物体颜色，一个光的颜色最后改变了内置变量FragColor也就是片段（像素）的颜色，然后你从显示器上看到的也就是你传入的颜色和物体颜色相乘的结果了。<br>在外部代码中传入uniform部分：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lightingShader.setVec3(&quot;objectColor&quot;, 1.0f, 0.5f, 0.31f);</span><br><span class="line">lightingShader.setVec3(&quot;lightColor&quot;,  1.0f, 1.0f, 1.0f);</span><br></pre></td></tr></table></figure>

<p>关于数据方面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">unsigned int lightVAO;</span><br><span class="line">glGenVertexArrays(1, &amp;lightVAO);</span><br><span class="line">glBindVertexArray(lightVAO);</span><br><span class="line">// 只需要绑定VBO不用再次设置VBO的数据，因为箱子的VBO数据中已经包含了正确的立方体顶点数据</span><br><span class="line">glBindBuffer(GL_ARRAY_BUFFER, VBO);</span><br><span class="line">// 设置灯立方体的顶点属性（对我们的灯来说仅仅只有位置数据）</span><br><span class="line">glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);</span><br><span class="line">glEnableVertexAttribArray(0);</span><br></pre></td></tr></table></figure>

<p>最终跑出来的结果应该是像这样子的<br><img src="/images/opengl/light_color.png" alt="这里写图片描述"></p>
<p>可以看到白色的那个正是我们设置的光源</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/20/Opengl-基本概念-转换矩阵and坐标系/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alex">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alex's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/20/Opengl-基本概念-转换矩阵and坐标系/" itemprop="url">Opengl-基本概念-转换矩阵&&坐标系（最难理解的两章）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-20T00:00:00+08:00">
                2018-08-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/opengl/" itemprop="url" rel="index">
                    <span itemprop="name">opengl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>##前言</p>
</blockquote>
<p>  可能这是Opengl学习的时候最难理解的地方，很多人也因为这个地方放弃了。但是我觉得，我们可以不明白有些矩阵是如何推到出来的，但是我们要明白一些简单的矩阵为什么可以做到从一个坐标系到另一个坐标系的转换。</p>
<blockquote>
<p>向量</p>
</blockquote>
<p>  向量就是一个有方向的线段，这貌似是我们中学就知道的概念，你可以把向量想像成一个藏宝图上的指示：“向左走10步，向北走3步，然后向右走5步”；“左”就是方向，“10步”就是向量的长度。那么这个藏宝图的指示一共有3个向量。<br>  <img src="/images/opengl/transform1.png" alt="这里写图片描述"><br>  看图应该更容易理解，我们也一般把向量用-&gt;这种符号在字母上面结合来表示。<br>  <strong>为什么说向量？假如我们有一个三维向量(1,1,1) 我们可以想象的到它在空间中的样子，然而我们要描述空间中的一点是不是也正好就是这么巧的碰到了一起？是不是？假设有点在(3,2,1)我们是不是就可以在原点发射一条射线指向这个点？然后这个线段+方向就是向量。更合适的是我们从原点发出的，那么这个向量w也正好就是我们想要表示的点了。</strong></p>
<blockquote>
<p>向量加减</p>
</blockquote>
<p><img src="/images/opengl/transform2.png" alt="这里写图片描述"></p>
<blockquote>
<p>向量相乘</p>
</blockquote>
<p> 两个向量相乘是一种很奇怪的情况。普通的乘法在向量上是没有定义的，因为它在视觉上是没有意义的。但是在相乘的时候我们有两种特定情况可以选择：一个是<strong>点乘(Dot Product)</strong>，记作v¯⋅k¯，另一个是<strong>叉乘(Cross Product)</strong>，记作v¯×k¯。</p>
<ul>
<li>点乘：v¯⋅k¯=||v¯||⋅||k¯||⋅cosθ  如果v和k都是单位向量那么v¯⋅k¯=cosθ</li>
<li>叉乘：叉乘只在3D空间中有定义，它需要两个不平行向量作为输入，生成一个正交于两个输入向量的第三个向量。如果输入的两个向量也是正交的，那么叉乘之后将会产生3个互相正交的向量。<br><img src="/images/opengl/transform3.png" alt="这里写图片描述"><br>上面的这个向量的运算都是一些基本的复习，大家应该可以轻松的理解了，不要钻牛角尖，就像1+1为啥等于2一样，这些公式都是前人的成果好好珍惜。</li>
</ul>
<blockquote>
<p>矩阵</p>
</blockquote>
<p><img src="/images/opengl/transform4.png" alt="这里写图片描述"></p>
<ul>
<li>只有当左侧矩阵的列数与右侧矩阵的行数相等，两个矩阵才能相乘。</li>
<li>矩阵相乘不遵守交换律(Commutative)，也就是说A⋅B≠B⋅A。<br><img src="/images/opengl/transform5.png" alt="这里写图片描述"><br>矩阵的乘法是一系列乘法和加法组合的结果，它使用到了左侧矩阵的行和右侧矩阵的列。</li>
</ul>
<hr>
<p>重点来了，为什么上面说了那么多，向量也好，矩阵也好？为啥？我们为啥复习这些有啥用？就是为了下面的讲述为什么矩阵可以表示变换，注意了。重点来了。</p>
<hr>
<p><img src="/images/opengl/transform6.png" alt="这里写图片描述"><br>我们用一个单位矩阵乘以一个矩阵。发现了什么？发现了什么？结果不变啊老哥。有了这个我们就可以继续进行了</p>
<blockquote>
<p>缩放</p>
</blockquote>
<p>   <img src="/images/opengl/transform7.png" alt="这里写图片描述"><br>   看出来了么？我们通过上面复习的矩阵乘法，然后计算出来的结果就是如图显示的，结果，我们的xyz都被乘以了S1，S2，S3也就是 我们这个向量经过了缩放，理解了么？有么有醍醐灌顶？原来难以理解为啥矩阵可以变换是不是理解了？就是这样顺理成章的，就是我们用的普通的公式完成了一次缩放操作</p>
<blockquote>
<p>位移</p>
</blockquote>
<p>  <img src="/images/opengl/transform8.png" alt="这里写图片描述"><br>  同理我们也就更容易理解位移了吧？我们通过这样一个矩阵乘上(x,y,z,1)这么个矩阵的出来的结果如图所示，我们就相当于对这个同样数据元素的向量进行了一次位移。有没有？是不是很简单？</p>
<blockquote>
<p>旋转</p>
</blockquote>
<p>  兄弟说实话，这个也是被前人推到出来的矩阵，然而我不会推到过程。。。真的不会，但是你要明白。。是有这么个矩阵就像上面的S也好T也好乘上我们的矩阵来实现渲</p>
<blockquote>
<p>矩阵的组合</p>
</blockquote>
<p>  其实我们说了这半天，先从向量说，又说了矩阵，然后通过单位矩阵推到出了位移渲染和肯定存在的旋转。为了什么？就是为了让我们的渲染出来的东西可以动，对就是可以动。</p>
<hr>
<hr>
<blockquote>
<p>##下面我们说一下坐标系</p>
</blockquote>
<ul>
<li>局部空间(Local Space，或者称为物体空间(Object Space))</li>
<li>世界空间(World Space)</li>
<li>观察空间(View Space，或者称为视觉空间(Eye Space))</li>
<li>裁剪空间(Clip Space)</li>
<li>屏幕空间(Screen Space)</li>
</ul>
<p>上面这些概念大概所有的Opengl教程都会说。这里不做累述。我们这里要做一个理解，为什么要有这些坐标系？为什么一个坐标系不够搞这么多干嘛？不烦吗？然后这些坐标系给我们带来了什么好处。</p>
<p>首先，我们暂停下来，在脑海中想想一下，空空的一个世界中，有一个立方体，或者任何其他你感兴趣的模型或者东西。okay想好了吧？接着，我们假如想在立方体上贴一个小星星的图片，我们怎么做？肯定得知道要贴在立方体的什么位置上吧？这个时候如果我们站在世界里的其他一点上怎么描述似乎都不恰当，但是，如果我们这么说：“立方体的(x,y,z)处贴个星星” 这句话你没有多想，你也会很自然的把它放到一个坐标系里，然后中心是原点。然后你找到了这个点贴了个星星，对吧？为什么这么想？就是因为你它放在了它的本地坐标系下你更好定位一些位置。然后我们接着想，如果空空的世界里有两个立方体，这个时候要是有人让你在右边的立方体上贴个星星，你怎么做？你如果还在刚才的本地坐标系里这个时候你对不上了，但是你听到这句话后你会很自然的站在了世界原点这么一个坐标系里，看这两个立方体，然后找到了右边的贴上了星星，为什么做？为什么又很自然的做了？因为这就是方便，很符合人理解的角度上的做法。说了这两个想象例子，你是不是稍微明白了什么，不是我们非得增加一个坐标系或者这么多坐标系，而是增加了这些坐标系后，我们更能很好的理解很好的处理。同理，观察空间以及裁剪空间，屏幕空间，都是为了做更方便更合适的处理才出现的。引用书上的一句话“<strong>在这些特定的坐标系统中，一些操作或运算更加方便和容易</strong>”</p>
<p><img src="/images/opengl/transform9.png" alt="这里写图片描述"></p>
<p>然后我们是如何让物体从一个坐标系变换到另一个坐标系的呢？这就要看我们上面说的矩阵变化 位移 缩放 旋转了。 你可以很简单的想象，如果一个物体在那，我们咱们挪动或者旋转摆放肯定才能把它放到世界空间中想放的位置吧？这就是通过Model矩阵来做的一次乘法运算同理后面的一样。</p>
<p>集合起所有矩阵来就是：<br><img src="/images/opengl/transform10.png" alt="这里写图片描述"><br>注意了，虽然是从左往右写的，但是运算其实是从右往左依次进行的。</p>
<hr>
<p>理解了么？最难的地方其实是你钻了牛角尖，然而这里帮助大家简单的理解推到出矩阵乘以你的坐标（这里只不过用了一列举证来表示相同的数据元素）可以让你的坐标变化，然后我们讲了下很多坐标系，而为什么有这么多也是为了在不同的坐标系下方便我们操作计算理解而已。就是酱紫</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/20/Opengl-基本章节的学习成果/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alex">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alex's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/20/Opengl-基本章节的学习成果/" itemprop="url">Opengl-基本章节的学习成果</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-20T00:00:00+08:00">
                2018-08-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/opengl/" itemprop="url" rel="index">
                    <span itemprop="name">opengl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/images/opengl/base_result.png" alt="这里写图片描述"></p>
<p>这就是我们利用基本章节学习的 VBO VAO 纹理 矩阵乘法 坐标系变换 做出来的东西</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/19/Opengl-基本概念-纹理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alex">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alex's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/19/Opengl-基本概念-纹理/" itemprop="url">Opengl-基本概念-纹理（单纯的颜色太单调弄张图显示不是更好）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-19T00:00:00+08:00">
                2018-08-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/opengl/" itemprop="url" rel="index">
                    <span itemprop="name">opengl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>##为啥用纹理</p>
</blockquote>
<p>  我们前面知道了顶点的属性里不光可以加位置信息，还可以加颜色啊等等什么其他的任何你想丰富的信息，那么我们可不可以把一张图上的某一点的信息放到这里呢？答案是肯定的，必须的能啊。这样我们也就不用再单调的弄各种颜色了，毕竟图片大把线程啊老哥。</p>
<blockquote>
<p>##纹理坐标</p>
</blockquote>
<p>  讲一个很重要的概念千万记住了<br>  <img src="/images/opengl/uv1.png" alt="这里写图片描述"><br>  看到这个图了吧？纹理坐标在x和y轴上，范围为0到1之间（注意我们使用的是2D纹理图像）。使用纹理坐标获取纹理颜色叫做采样(Sampling)。纹理坐标起始于(0, 0)，也就是纹理图片的左下角，终始于(1, 1)，即纹理图片的右上角。</p>
<p>纹理坐标看起来就像这样</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">float texCoords[] = &#123;</span><br><span class="line">    0.0f, 0.0f, // 左下角</span><br><span class="line">    1.0f, 0.0f, // 右下角</span><br><span class="line">    0.5f, 1.0f // 上中</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>这里我们稍微暂停一下，想一下。<strong>有一张地图在你脑海里，然后地图上的某一个位置或者某一个地方是不是有个坐标？我们是不是就是通过某一个位置坐标来找到的某一个地方？同理纹理坐标也是这样，就是一张图，然后我们把这张图放到我们的坐标系里，然后这样也就是标记并记录了这个图的某一个像素点上的颜色信息</strong>。。然后放到我们的顶点属性里，这样不是美滋滋？<br>再次看一下这张图<br><img src="/images/opengl/uv2.png" alt="这里写图片描述"><br>看到了么？顶点属性就是这样，没什么特别的，一块内存我们给它定义了啥子它就存着什么。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/18/Opengl-基本概念-着色器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alex">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alex's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/18/Opengl-基本概念-着色器/" itemprop="url">Opengl-基本概念-着色器（都是固定的）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-18T00:00:00+08:00">
                2018-08-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/opengl/" itemprop="url" rel="index">
                    <span itemprop="name">opengl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>##固定的结构</p>
</blockquote>
<ul>
<li><p><strong>顶点着色器</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">layout (location = 0) in vec3 aPos; // 位置变量的属性位置值为0</span><br><span class="line"></span><br><span class="line">out vec4 vertexColor; // 为片段着色器指定一个颜色输出</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    gl_Position = vec4(aPos, 1.0); // 注意我们如何把一个vec3作为vec4的构造器的参数</span><br><span class="line">    vertexColor = vec4(0.5, 0.0, 0.0, 1.0); // 把输出变量设置为暗红色</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>片段着色器</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">out vec4 FragColor;</span><br><span class="line"></span><br><span class="line">in vec4 vertexColor; // 从顶点着色器传来的输入变量（名称相同、类型相同）</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    FragColor = vertexColor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>看到了吧？就这么简单 这就是你要学的shader，一个是顶点的一个是片段的。<br>核心思想：</p>
<ol>
<li>in 输入也就是别人流程流到你这的</li>
<li>out 输出也就是你这里最后做完要给别人的</li>
<li>layout 顶点在内存的布局 不理解没关系一会看图说话</li>
<li>gl_ 的这些变量都是opengl的内置变量</li>
<li>都有main函数这你就想明白了吧？写任何c程序main都是程序入口，所以说我们写的这些个着色器其实就是个小程序，挂上去之后人家跑你的main然后把早就定义好的东西流到下一个管线</li>
</ol>
<p>关于Layout的理解<br><img src="/images/opengl/shader1.png" alt="这里写图片描述"><br>如图所示，我们的点比如一个点P = {x,y,x} 我们都是在3维空间说的，至于2D的就是z的值为一个固定的0。接着说图，我们的点在内存中就是如此布局的一个紧挨一个，然后接着看另一张图<br><img src="/images/opengl/shader2.png" alt="这里写图片描述"><br>看出变化了么？这里我们在刚刚位置元素xyz的旁边增加了rgb，是不是很熟悉就是颜色啊老铁。是的，这也就是我们后面要讲的纹理，这里先不说。但是我们可以看出来layout的作用了<br>layout (location = 0) in vec3 aPos; // 位置变量的属性位置值为0 这句说的也比较明白了。 首先in表示这个东西是传进来的 然后看vec3表示一个三维向量而已 aPos 就是这个变量，那么我们就能简单的看出来有一个aPos传了进来，这个aPos表示的位置元素都排列在了顶点数据内存的位置为0的地方。然后以后我们想要丰富这个顶点，比如说我们不满足于光有位置我们还想有颜色，那么增加下顶点属性如图所做的我们就明白怎么做了<br>比如：layout (location = 1) in vec3 rgb; 是不是很简单？</p>
<hr>
<p>这就是着色器，很固定的回味下</p>
<hr>
<p>接着说一个着色器的重要角色Uniform</p>
<blockquote>
<p>Uniform是一种从CPU中的应用向GPU中的着色器发送数据的方式，但uniform和顶点属性有些不同。首先，uniform是全局的(Global)。全局意味着uniform变量必须在每个着色器程序对象中都是独一无二的，而且它可以被着色器程序的任意着色器在任意阶段访问。第二，无论你把uniform值设置成什么，uniform会一直保存它们的数据，直到它们被重置或更新。</p>
</blockquote>
<p>  说的很清楚了，首先uniform是cpu-&gt;gpu发送数据的方式。然后是全局的并没有什么其他特殊的意义<br>  然而就是这个特殊的变量可以让我们的着色器丰富多彩因为这就是变数，我们可以通过传入任何想要传入的东西来实现我们想要的效果，你可以想想，我们上面都说了一个普通着色器所需要的元素都是那么的固定，然而要想做出变化多彩的东西肯定需要变数，也就是变化的东西这个也就是uniform的作用了是不是。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  #version 330 core</span><br><span class="line">out vec4 FragColor;</span><br><span class="line"></span><br><span class="line">uniform vec4 ourColor; // 在OpenGL程序代码中设定这个变量</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    FragColor = ourColor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>看这段代码就能看出来uninform的定义和使用的方式了，我们可以通过代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">float timeValue = glfwGetTime();</span><br><span class="line">float greenValue = (sin(timeValue) / 2.0f) + 0.5f;</span><br><span class="line">int vertexColorLocation = glGetUniformLocation(shaderProgram, &quot;ourColor&quot;);</span><br><span class="line">glUseProgram(shaderProgram);</span><br><span class="line">glUniform4f(vertexColorLocation, 0.0f, greenValue, 0.0f, 1.0f);</span><br></pre></td></tr></table></figure>

<p>来改变最后像素的颜色，是不是很牛逼？很简单？</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/17/Opengl-基本概念-对象/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alex">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alex's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/17/Opengl-基本概念-对象/" itemprop="url">Opengl-基本概念-对象（很关键啊兄弟这章）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-17T00:00:00+08:00">
                2018-08-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/opengl/" itemprop="url" rel="index">
                    <span itemprop="name">opengl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>##Opengl对象</p>
</blockquote>
<p>   这里再次强调下，<strong>Opengl就是一个状态集合</strong>，它负责管理它下属的所有状态，然后这些个状态是怎么表现的，你想象一下啊老哥 玩过游戏吧？举个列子，你用冰冻法术打人别人别冰了这是不是状态？可能不是很恰当，但是你要明白，opengl就是一个状态集合，不同的状态表现不同的特性。然后这些都是需要一个一个的状态的，<strong>这些也就是我们的Opengl对象提供的了</strong>。当然了说的稍微难理解一点就是<strong>，对象是什么？还是一块内存数据，只不过用人很好理解的方式解释了下罢了</strong>。
   接着说，Opengl是个大的状态机有一个大的Context，然后你把任意对象（想象成技能）挂到Context的时候，这个时候Opengl就会变成不同的状态来应对啦。当然了我们改变了这个Context，也会变成其他的状态（这是废话）文字可能很难理解，我找了一张图<br>   <img src="/images/opengl/context1.png" alt="这里写图片描述"><br>   这次看看，Context是我们的Opengl状态机，然后下面的Object都是一些Opengl的对象，箭头表示绑定到状态机上，然后这个Context才会因为这些具备不同的状态和特性。明白了吧？还不明白？那再看看 - -</p>
<hr>
<blockquote>
<p>VBO</p>
</blockquote>
<p>  vertex buffer object 看名字也知道 也是一个Opengl的对象， 而这个也就是我们最关键的东西了，这个千万记住了，<strong>顶点缓冲对象</strong>，干嘛的？就是用来存储我们前面说过的顶点数据的。现在可以发散一下你的脑洞，想一哈，你所见到的或者你所理解的图形在计算机上咋显示的？还不是一个一个的点或者片段么？<strong>然而怎么组织这些点就是在这里说了算了</strong><br>  unsigned VBO;<br>  glGenBuffers(1, &amp;VBO);<br>看上面的代码就是生成一块VBO的方式</p>
<blockquote>
<p>VAO</p>
</blockquote>
<p> vertex array object 看名字也知道 也是一个Opengl的对象，它是用来干嘛的？不废话，它就是用来存储上面说的VBO的，你想啊。你见到的一半都是复杂的图形或者图像。几个顶点哪够啊都是大把的，哥哥顶点单独的数据都存在VBO里了，要想把这些点结合起来肯定用个array容器也就是我们的VAO<br>unsigned VAO;<br>glGenVertexArrays(1, &amp;VAO);<br>看上面的代码就是生成一块VAO的方式</p>
<blockquote>
<p>EBO</p>
</blockquote>
<p>  索引缓冲对象, 上面都有两个对象了怎么又来了一个？其实就是一种优化，原理上讲会让大家迷惑但是稍微说一句，一个正方形，是有两个三角形组成的，那么就需要6个顶点，说到这肯定有人跳出来打我。妈的明明四个点就行干嘛用6个？这不是占地方浪费么？说的是说的是，所以也就有了这个东西EBO，用来存放索引<br>  同理EBO这样生成<br>  unsigned EBO;<br>  glGenBuffers(1, &amp;EBO);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">float vertices[] = &#123;</span><br><span class="line">    0.5f, 0.5f, 0.0f,   // 右上角</span><br><span class="line">    0.5f, -0.5f, 0.0f,  // 右下角</span><br><span class="line">    -0.5f, -0.5f, 0.0f, // 左下角</span><br><span class="line">    -0.5f, 0.5f, 0.0f   // 左上角</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">unsigned int indices[] = &#123; // 注意索引从0开始! </span><br><span class="line">    0, 1, 3, // 第一个三角形</span><br><span class="line">    1, 2, 3  // 第二个三角形</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>看出来了吧？</p>
<p>其实说这么多还不如一张图，让大家更能醍醐灌顶。<br><img src="/images/opengl/context2.png" alt="这里写图片描述"></p>
<p>能看出来了吧？ 这是what？ VBO用来存放一个点一个点，VAO用来存放一组点 EBO做了层优化可以用来存放索引省去一些点 然后最有用的VAO你可以看到了吧，这么理解吧，VAO就是你的情人，记住了后面一直会用到，就像你做了很多个木头模型，都放到那了，想给别人看啥的时候就拿对应的VAO就完事了。简单吧？</p>
<hr>
<p>下面是我写的部分生成绑定的代码，注释已经写的相对明白了，大家千万要记住一点就是，<strong>bind上了谁接下来状态机就使用的是谁了</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">   unsigned VBO, VAO, EBO;</span><br><span class="line">    glGenVertexArrays(1, &amp;VAO);</span><br><span class="line">    glGenBuffers(1, &amp;VBO);</span><br><span class="line">    glGenBuffers(1, &amp;EBO);</span><br><span class="line">    // 在gl里 bind 谁那么接下来用的就是谁 一个大状态机里面不同对象记录不同状态</span><br><span class="line">    // bind vao 接下来用的就是上面Gen生成的Vao</span><br><span class="line">    glBindVertexArray(VAO);</span><br><span class="line">    // bind vbo 接下来用的vbo就是上面Gen生成的</span><br><span class="line">    glBindBuffer(GL_ARRAY_BUFFER, VBO);</span><br><span class="line">    // 往vbo（一块显存）里存放数据</span><br><span class="line">    glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);</span><br><span class="line">    </span><br><span class="line">    // 同vbo设置数据这里设置数据到ebo里</span><br><span class="line">//    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);</span><br><span class="line">//    glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STATIC_DRAW);</span><br><span class="line">    </span><br><span class="line">    // 配置vao 因为vao就是一个记录状态用的 状态集合 这里配置好告诉opengl怎么使用vbo的数据 也可以理解为 给对应的顶点属性数组指定数据：</span><br><span class="line">    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5* sizeof(float), (GLvoid*)0);</span><br><span class="line">    glEnableVertexAttribArray(0);</span><br><span class="line">    </span><br><span class="line">//    // 颜色属性 (配置顶点的属性 不同属性位置的不同配置)</span><br><span class="line">//    glVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(float), (void*)(3* sizeof(float)));</span><br><span class="line">//    glEnableVertexAttribArray(1);</span><br><span class="line">    </span><br><span class="line">    // 新增一个纹理坐标的顶点属性解释</span><br><span class="line">    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(float), (void*)(3 * sizeof(float)));</span><br><span class="line">    glEnableVertexAttribArray(1);</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/16/Opengl-基本概念-可编程的渲染管线/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alex">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alex's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/16/Opengl-基本概念-可编程的渲染管线/" itemprop="url">Opengl-基本概念-可编程的渲染管线（僵硬啊）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-16T00:00:00+08:00">
                2018-08-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/opengl/" itemprop="url" rel="index">
                    <span itemprop="name">opengl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>##到底要弄什么？什么地方编程？</p>
</blockquote>
<p>   关于窗口如何生成，前面一章讲了环境的搭建，我是如何简单的搭了基本的环境的下面就讲下我的入门Chapter-1<br>   基本概念讲一下：<br>   <img src="/images/opengl/pipeline.png" alt="这里写图片描述"><br>   太多的关于Opengl的概念就不多说了，说多了容易让人蒙圈，我这一切从简，就看着这个图图里的三个蓝色区域看到了吧？这三个流程就是我们学习Opengl的目的，要是没这三咱们还是歇一歇少掉几根头发吧。</p>
<blockquote>
<p>顶点着色器</p>
</blockquote>
<p>顾名思义 它把一个单独的顶点作为输入。顶点着色器主要的目的是把3D坐标转为另一种3D坐标，同时顶点着色器允许我们对顶点属性进行一些基本处理。这个不理解没关系好吧，简单点想就是我们如何来定义和解释一个点</p>
<blockquote>
<p>片段着色器（有时候也叫像素着色器可能）</p>
</blockquote>
<p>主要目的是计算一个像素的最终颜色，这也是所有OpenGL高级效果产生的地方。通常，片段着色器包含3D场景的数据（比如光照、阴影、光的颜色等等），这些数据可以被用来计算最终像素的颜色。实话说。这概念都是我复制过来的因为我也不知道怎么解释更高级，简单点理解呢就是你看屏幕上那些个像素每一个是啥样色都是靠这个东西来决定的</p>
<blockquote>
<p>几何着色器</p>
</blockquote>
<p>这东西一般你用不到，除非上升到了高级Opengl或者高级光照的地方也就是你工作里可能看到了很多shader都是xx.vs xx.fs 没看到过xx.gs吧？哈哈哈说实话我原来也没见过 惊呆了。<br>几何着色器把图元形式的一系列顶点的集合作为输入，它可以通过产生新顶点构造出新的（或是其它的）图元来生成其他形状。 也就是说我们可以通过上一个管道流程传过来的顶点(想象一下有个管道流出来好多的球)然后把这些个点可以在这个流程里组装成各种形状你想下，你用两个点可以弄个线，三个点一个三角形等等等，都可以。如果你不提供这个东西呢？opengl会自动处理ex:三角形</p>
<hr>
<p>上面讲了基本的概念，也就是我们想学opengl想对opengl可编程的管线进行操作，那么也就是对上面这三个进行操作。可能会想这些东西有啥用，其实我就想说我也不知道，写opengl这个人为啥这么弄，我又不是他。不过你简单的理解下还是一切从简，<strong>你就想象一个工厂，好几个部门流水线。哗哗的生产，上一个管线生产了一个螺丝，就是个铁块，到了一个新的地方也就是这里我们的可编程部分，我们给它加工一下弄上花纹之类的</strong>。道理就是这么个道理。从现在开始我就要和大家讲的是，<strong>Opengl就是个很大的状态机</strong>很大的工厂。到底是啥？其实都是。一个大的工厂，在opengl里存在各个流程管线，严格的一步一步执行到下面一个流程。而为什么说它是个状态机呢？如果你不懂没关系后面慢慢渗透。</p>
<hr>
<p>溜了溜了 </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Alex">
            
              <p class="site-author-name" itemprop="name">Alex</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Ander456" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:540545947@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Alex</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
